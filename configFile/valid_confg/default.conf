#empty line accepted
#comments are defined by # in a separated line
#use only spaces instead of tab
#whitespaces are not accepted
#when listen  | root | index | allowed methods are missing => it takes default values
#commun port same server_name > error
#empty config file parsing error
# regular expressions are not accepted 

#root default   => getcwd + /var/www/html
#index default  => index.html index.php index.py
#listen default => 127.0.0.1 8000
#allowed method default => GET
#Location URI should start by /

    server {
        listen 127.0.0.1 8081
        server_name server1
        index index.html index.php index.py
        root /Users/iidzim/Desktop/webserv/var/www/html
        # error_page 404 /Users/iidzim/Desktop/webserv/error_pages/4005.html
        # client_max_body_size 1
       # error_page 501 /Users/iidzim/Desktop/webserv/error_pages/400.html
        # error_page 400 /Users/iidzim/Desktop/webserv/var/www/html/index.html



        location /python {
            root /Users/iidzim/Desktop/webserv/var/www
            cgi .py
            allow_methods GET POST
        }

        location /php {
            root /Users/iidzim/Desktop/webserv/var/www
            cgi .php
            allow_methods GET POST
        }

        location /delete {
            root /Users/iidzim/Desktop
            allow_methods DELETE
        }

        location /upload {
            root /Users/iidzim/Desktop/webserv/var
            upload /www/upload/
            allow_methods GET POST DELETE
        }

        location /redirect {
            root /Users/iidzim/Desktop/webserv
            rewrite var/ /var/www/html
            # autoindex on
        }

        location /google {
            root /Users/iidzim/Desktop/webserv
            rewrite / http://google.com
        }
        
        # location / {
        #     autoindex on
        #     allow_methods GET
        # }
    }



# multiple servers

# server {
#         listen 127.0.0.1 8081
#         server_name server2
#         autoindex on
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/iidzim/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8081
#         autoindex on
#         server_name server3
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/
#         # location /a {
#         #     # root /Users/iidzim/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }
# server {
#         listen 127.0.0.1 8081
#         autoindex on
#         server_name server4
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/iidzim/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8082
#         server_name server5
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/iidzim/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8083
#         server_name server6
#         autoindex on
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/
#         # location /a {
#         #     # root /Users/iidzim/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }
