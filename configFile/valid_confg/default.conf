#empty line accepted
#comments are defined by # in a separated line
#use only spaces instead of tab
#whitespaces are not accepted
#when listen  | root | index | allowed methods are missing => it takes default values
#commun port same server_name > error
#empty config file parsing error
# regular expressions are not accepted 

#root default   => getcwd + /var/www/html
#index default  => index.html index.php index.py
#listen default => 127.0.0.1 8000
#allowed method default => GET
#Location URI should start by /

    server {
        listen 127.0.0.1 8081
        server_name server1
        index index.html index.php index.py
        root /Users/oel-yous/Desktop/webserv
        # error_page 404 /Users/oel-yous/Desktop/webserv/error_pages/4005.html
        # client_max_body_size 1
       # error_page 501 /Users/iidzim/Desktop/webserv/error_pages/400.html
        # error_page 400 /Users/iidzim/Desktop/webserv/var/www/html/index.html



        location /python {
            root /Users/oel-yous/Desktop/webserv/var/www
            cgi .py
            allow_methods GET POST
            
        }

        location /php {
            root /Users/oel-yous/Desktop/webserv/var/www
            cgi .php
            allow_methods GET POST
        }

        location /delete {
            root /Users/oel-yous/Desktop
            allow_methods DELETE
        }

        location /upload {
            root /Users/oel-yous/Desktop/webserv/var
            upload /www/upload/
            allow_methods GET POST DELETE
        }

        location /redirect {
            root /Users/oel-yous/Desktop/webserv
            rewrite var/ /var/www/html
            # autoindex on
        }

        location /google {
            root /Users/oel-yous/Desktop/webserv
            rewrite / http://google.com
        }
        
        # location / {
        #     autoindex on
        #     allow_methods GET
        # }
    }

    # server {
    # index index.php index.py
    #   location /b {
    #     cgi .php
    #    #listen 127.0.0.1 8081
    #  allow_methods GET POST
    #   rewrite testLocation.html pwd.http
    # #   autoindex on
    # #   root /Users/iidzim/Desktop/ddd
    #  # index index.html index.php
    #     }
    # }


    # server {
    # index index.php index.py
    #   location /c {
    #     cgi .php
    #    #listen 127.0.0.1 8081
    #     allow_methods GET POST
    # #   rewrite testLocation.html pwd.http
    # #   autoindex on
    # #   root /Users/iidzim/Desktop/ddd
    #  # index index.html index.php
    #     }
    # }



    # server {
    # index index.php index.py
    #   location /d {
    #       index index.php index.py
    #     cgi .php
    #    #listen 127.0.0.1 8081
    #  allow_methods GET POST
    # #   rewrite testLocation.html pwd.http
    # #   autoindex on
    # #   root /Users/iidzim/Desktop/ddd
    #  # index index.html index.php
    #     }
    # }

#}


#  server {
#  listen 127.0.0.1 1333
#   #  listen 127.0.0.1 8083
#   #  server_name pp
#   # #  autoindex on
#   # #  root /Users/oel-yous/Desktop
#   #  root /Users/iidzim/Desktop/
#   #   index index.html index.php

#   #     error_page 400 /400.html
#   #     error_page 500 /500.html
#   #     rewrite path.html pwd.http

#   #   location /ok {
#   #      #listen 127.0.0.1 8081
#   #    allow_methods DELETE
#   #     rewrite testLocation.html pwd.http
#   #     autoindex on
#   #     root /Users/oel-yous/Desktop/ddd
#   #  }

#  }

#  server {
#   #  listen 127.0.0.1 8082
#    listen 127.0.0.1 8082
#    server_name ok.ma
#   #  autoindex on
#   #  root /Users/oel-yous/Desktop
#   #  root /Users/iidzim/Desktop/webservairdrop/
#    root /Users/iidzim/Desktop/webservairdrop/var/www/html
#     index index.html

#       error_page 404 /400.html
#       error_page 500 /500.html
#       rewrite path.html pwd.http
#  }




# multiple servers

# server {
#         listen 127.0.0.1 8081
#         server_name server2
#         autoindex on
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/oel-yous/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8081
#         autoindex on
#         server_name server3
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/
#         # location /a {
#         #     # root /Users/oel-yous/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }
# server {
#         listen 127.0.0.1 8081
#         autoindex on
#         server_name server4
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/oel-yous/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8082
#         server_name server5
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/html
#         # location /a {
#         #     # root /Users/oel-yous/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }

# server {
#         listen 127.0.0.1 8083
#         server_name server6
#         autoindex on
#         index index.html index.php index.py
#         root /Users/iidzim/Desktop/webserv/var/www/
#         # location /a {
#         #     # root /Users/oel-yous/Desktop/ddd
#         #    cgi .php
#         #     allow_methods GET POST
#         # #    upload path
#         #     # autoindex on
#         # # index index.html index.php
#         # }
#         # location / {
#         #     allow_methods GET POST DELETE
#         # }
#     }
